# Maintenance Guide
## Moody Beach Maine - The Canonicus Website

This guide provides instructions for maintaining and updating the website.

---

## Table of Contents

1. [Regular Maintenance Tasks](#regular-maintenance-tasks)
2. [Updating Content](#updating-content)
3. [Updating Images](#updating-images)
4. [Updating Dependencies](#updating-dependencies)
5. [Troubleshooting](#troubleshooting)
6. [Testing Checklist](#testing-checklist)

---

## Regular Maintenance Tasks

### Monthly

- [ ] Check all links are working (contact, directions, YouTube)
- [ ] Verify images load correctly
- [ ] Test gallery functionality
- [ ] Check Google Analytics for errors
- [ ] Review browser console for errors

### Quarterly

- [ ] Update rental availability dates
- [ ] Review and update pricing information
- [ ] Check for dependency updates (lightGallery)
- [ ] Test on latest browser versions
- [ ] Verify mobile responsiveness

### Annually

- [ ] Review and refresh images
- [ ] Update structured data if property details change
- [ ] Review SEO meta tags
- [ ] Check accessibility compliance
- [ ] Backup all files

---

## Updating Content

### Rental Information

**File**: `index.html`
**Location**: `<section aria-labelledby="rental-heading">`

1. Open `index.html` in a text editor
2. Find the "Rental Information" section (around line 183)
3. Update the `<ul>` list items as needed
4. Save and test locally
5. Upload to server

**Example:**
```html
<li>Maximum of 6 occupants, including babies and children of all ages</li>
<li>No pets of any kind</li>
<!-- Update items as needed -->
```

### Contact Information

**File**: `index.html`
**Location**: `<section aria-labelledby="contact-heading">`

1. Find the Contact Information section (around line 208)
2. Update phone number, email, or contact names
3. **Important**: Also update structured data (JSON-LD) if contact changes
4. Save and test

**Structured Data Location**: Around line 32-70 in `<head>`

### Directions

**File**: `index.html`
**Location**: `<section aria-labelledby="directions-heading">`

1. Update address if needed
2. Update Google Maps link if address changes
3. Update structured data address if changed

---

## Updating Images

### Replacing Gallery Images

1. **Prepare Images**:
   - Main images: 600x450px (4:3 aspect ratio)
   - Thumbnails: 80x60px (auto-generated by browser)
   - Format: JPG (optimized)
   - File names: `1.jpg` through `15.jpg`

2. **Replace Files**:
   - Upload new images to `images/` directory
   - Maintain same file names OR update references in HTML

3. **Update HTML** (if file names changed):
   - Find all `<img>` tags with `src="./images/X.jpg"`
   - Find all `<a>` tags with `href="./images/X.jpg"`
   - Update `data-src` attributes in gallery links
   - Update `alt` text to describe new images

4. **Update Structured Data** (if main image changed):
   - Find JSON-LD script (around line 32)
   - Update `"image"` property if using different main image

### Adding/Removing Images

**To Add Images:**
1. Add image file to `images/` directory
2. Add new `<li>` item to gallery `<ul>`:
   ```html
   <li>
     <a href="./images/16.jpg" data-src="./images/16.jpg" data-sub-html="Image description">
       <img src="./images/16.jpg" alt="Image description" loading="lazy" width="80" height="60" />
     </a>
   </li>
   ```
3. Update main image if needed (first image in gallery)

**To Remove Images:**
1. Remove `<li>` item from gallery
2. Optionally delete image file
3. Update main image reference if removed image was main image

---

## Updating Dependencies

### lightGallery Updates

**Current Version**: 2.7.2

**To Update:**
1. Check latest version: https://www.lightgalleryjs.com/
2. Update CDN links in `index.html`:
   ```html
   <!-- CSS -->
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@VERSION/css/lightgallery.css" />
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@VERSION/css/lg-thumbnail.css" />

   <!-- JavaScript -->
   <script src="https://cdn.jsdelivr.net/npm/lightgallery@VERSION/lightgallery.umd.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/lightgallery@VERSION/plugins/thumbnail/lg-thumbnail.umd.js"></script>
   ```
3. Test gallery functionality after update
4. Check for breaking changes in lightGallery changelog

### Google Analytics

**Current Tracking ID**: `G-CJP2HX87N2`

**To Update:**
1. Find Google tag script (around line 70)
2. Update `gtag('config', 'TRACKING-ID');`
3. Update tracking ID in script `src` URL

---

## Troubleshooting

### Gallery Not Working

**Symptoms**: Images don't open in lightbox, thumbnails don't show

**Solutions**:
1. Check browser console for errors (F12)
2. Verify lightGallery CDN links are loading (Network tab)
3. Ensure `data-src` attributes are present on all gallery links
4. Check that `#lightgallery` element exists in HTML
5. Verify JavaScript is enabled in browser

### Images Not Loading

**Symptoms**: Broken image icons, 404 errors

**Solutions**:
1. Check file paths are correct (relative to `index.html`)
2. Verify images exist in `images/` directory
3. Check file permissions on server
4. Verify image file names match HTML references
5. Check browser console for 404 errors

### Layout Broken on Mobile

**Symptoms**: Content overlapping, horizontal scrolling

**Solutions**:
1. Hard refresh: Cmd+Shift+R (Mac) / Ctrl+Shift+R (Windows)
2. Clear browser cache
3. Check CSS file is loading (`css/styles.css`)
4. Verify viewport meta tag is present: `<meta name="viewport" content="width=device-width, initial-scale=1.0" />`
5. Test in different browsers/devices

### YouTube Video Not Playing

**Symptoms**: Video doesn't load or play

**Solutions**:
1. Verify you're viewing via HTTP/HTTPS (not `file://`)
2. Check YouTube embed URL is correct
3. Verify internet connection
4. Check if YouTube is blocked (corporate networks)
5. Test embed URL directly in browser

### Styling Issues

**Symptoms**: Colors wrong, layout broken, fonts not loading

**Solutions**:
1. Hard refresh to clear CSS cache
2. Verify `css/styles.css` is loading (Network tab)
3. Check for CSS syntax errors
4. Verify CSS file path is correct
5. Check browser DevTools for CSS conflicts

---

## Testing Checklist

After making any changes, test the following:

### Functionality
- [ ] All images load correctly
- [ ] Gallery opens when clicking main image
- [ ] Gallery opens when clicking thumbnails
- [ ] Thumbnails display in lightbox
- [ ] Navigation arrows work in gallery
- [ ] ESC key closes gallery
- [ ] All links work (contact, directions, YouTube)
- [ ] Contact phone/email links work

### Responsive Design
- [ ] Mobile (< 576px): Layout stacks correctly
- [ ] Tablet (576-768px): Layout readable
- [ ] Desktop (> 768px): Original layout preserved
- [ ] No horizontal scrolling on any device
- [ ] Text readable without zooming

### Accessibility
- [ ] Skip-to-content link works
- [ ] Tab navigation works through all links
- [ ] Focus indicators visible
- [ ] Screen reader can navigate (if testing)
- [ ] All images have descriptive alt text

### Browser Compatibility
- [ ] Chrome (latest)
- [ ] Firefox (latest)
- [ ] Safari (latest)
- [ ] Edge (latest)
- [ ] Mobile Safari (iOS)
- [ ] Chrome Mobile (Android)

### Performance
- [ ] Page loads quickly (< 3 seconds)
- [ ] Images lazy load (check Network tab)
- [ ] No console errors
- [ ] No 404 errors

---

## Backup Procedures

### Before Making Changes

1. **Create Backup**:
   ```bash
   # Create backup directory
   mkdir backup-YYYY-MM-DD

   # Copy all files
   cp -r * backup-YYYY-MM-DD/
   ```

2. **Or use Git** (if using version control):
   ```bash
   git commit -m "Backup before changes"
   ```

### Important Files to Backup

- `index.html` (main content)
- `css/styles.css` (all styling)
- `images/` directory (all images)
- Any custom JavaScript files

---

## Getting Help

### Resources

- **lightGallery Documentation**: https://www.lightgalleryjs.com/docs/
- **CSS Grid Guide**: https://css-tricks.com/snippets/css/complete-guide-grid/
- **HTML5 Validation**: https://validator.w3.org/
- **CSS Validation**: https://jigsaw.w3.org/css-validator/

### Common Issues

See [Troubleshooting](#troubleshooting) section above.

---

## Version History

- **v2.0** (January 2025): Modernized with responsive design, lightGallery, accessibility improvements
- **v1.0** (Original): Legacy jQuery-based version

---

**Last Updated**: January 2025

